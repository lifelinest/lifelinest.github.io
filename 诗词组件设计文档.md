# 每日诗词组件设计文档

## 概述

这是一个专为Hexo安知鱼主题设计的每日诗词组件，具有现代化界面和优秀的响应式设计。组件会自动从今日诗词API获取每日诗词，并在侧边栏中展示。

## 组件结构

### HTML结构
```html
<div id="card-poem" class="card-widget">
    <div id="poem_sentence">
        <!-- 诗词句子内容 -->
    </div>
    <div id="poem_info">
        <div id="poem_dynasty">
            <!-- 朝代信息 -->
        </div>
        <div id="poem_author">
            <!-- 作者和诗名 -->
        </div>
    </div>
</div>
```

### 包含元素
- **#poem_sentence**: 诗词句子内容
- **#poem_dynasty**: 朝代信息（如：唐、宋、元等）
- **#poem_author**: 作者和诗名（格式：作者《诗名》）

## 设计特色

### 1. 现代化界面
- **毛玻璃效果**: 半透明背景营造层次感
- **渐变色彩**: 使用紫色系渐变，优雅且富有诗意
- **圆角设计**: 16px圆角，柔和现代
- **阴影效果**: 多层次阴影增强立体感

### 2. 交互体验
- **悬停动画**: 卡片悬停时上移并增强阴影
- **光泽效果**: 悬停时出现光泽扫过动画
- **朝代标签**: 悬停时缩放并增强阴影
- **作者信息**: 悬停时颜色变化并轻微位移

### 3. 响应式设计

#### PC端 (>768px)
- 卡片高度: 160px
- 诗词字体: 1.1rem
- 信息布局: 左右分布
- 悬停效果: 完整动画

#### 平板端 (480px-768px)
- 卡片高度: 140px
- 诗词字体: 1rem
- 信息布局: 左右分布
- 悬停效果: 适中动画

#### 手机端 (360px-480px)
- 卡片高度: 120px
- 诗词字体: 0.95rem
- 信息布局: 垂直居中
- 悬停效果: 减弱动画

#### 超小屏 (<360px)
- 卡片高度: 110px
- 诗词字体: 0.9rem
- 信息布局: 垂直居中
- 悬停效果: 最小动画

### 4. 深色模式适配
- 自动检测主题模式
- 调整色彩方案适配深色背景
- 保持良好的对比度和可读性

## 色彩方案

### 浅色模式
- **主色调**: #8a63d2 (优雅紫色)
- **辅助色**: #5e8af7 (清新蓝色)
- **强调色**: #ff7eb3 (温暖粉色)
- **文字主色**: #2c3e50 (深灰蓝)
- **文字副色**: #6a7ba2 (中灰蓝)

### 深色模式
- **主色调**: #a78bfa (明亮紫色)
- **辅助色**: #7c9eff (明亮蓝色)
- **强调色**: #ff9ecd (明亮粉色)
- **文字主色**: #f7f7fa (浅灰白)
- **文字副色**: #a1a2b8 (中灰白)

## 动画效果

### 1. 光泽扫过动画
```css
@keyframes shimmer {
  0% { transform: translateX(-100%) translateY(-100%) rotate(45deg); }
  50% { transform: translateX(0%) translateY(0%) rotate(45deg); }
  100% { transform: translateX(100%) translateY(100%) rotate(45deg); }
}
```

### 2. 加载动画
```css
@keyframes loading-dots {
  0%, 20% { content: '.'; }
  40% { content: '..'; }
  60%, 100% { content: '...'; }
}
```

### 3. 悬停过渡
```css
--poem-transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
```

## 字体设计

### 诗词句子
- **字体族**: 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', 'SimSun', serif
- **字重**: 500 (中等)
- **字间距**: 0.5px
- **行高**: 1.8

### 朝代标签
- **字重**: 600 (半粗体)
- **字间距**: 0.5px
- **圆角**: 20px

### 作者信息
- **字重**: 500 (中等)
- **对齐**: 右对齐 (PC端) / 居中 (移动端)

## 布局设计

### PC端布局
```
┌─────────────────────────┐
│     诗词句子内容        │
│   (居中，带引号装饰)    │
├─────────────────────────┤
│ 朝代标签   作者《诗名》 │
└─────────────────────────┘
```

### 移动端布局
```
┌─────────────────────────┐
│     诗词句子内容        │
│   (居中，带引号装饰)    │
├─────────────────────────┤
│      朝代标签           │
│     作者《诗名》        │
└─────────────────────────┘
```

## 技术特性

### 1. CSS变量系统
- 使用CSS自定义属性实现主题切换
- 支持浅色/深色模式自动适配
- 便于后续维护和修改

### 2. 响应式断点
- 768px: 平板端适配
- 480px: 手机端适配
- 360px: 超小屏适配

### 3. 性能优化
- 使用transform进行动画，避免重排
- 合理使用will-change属性
- 动画使用cubic-bezier缓动函数

### 4. 兼容性
- 支持现代浏览器
- 优雅降级处理
- 移动端触摸友好

## 使用说明

### 1. 文件位置
- 样式文件: `themes/anzhiyu/source/css/poem.css`
- 模板文件: `themes/anzhiyu/layout/includes/widget/card_poem.pug`

### 2. 配置启用
在主题配置文件中确保诗词组件已启用：
```yaml
aside:
  card_poem:
    enable: true
```

### 3. 自定义修改
如需修改样式，可直接编辑 `poem.css` 文件：
- 修改色彩变量可改变整体配色
- 调整断点值可改变响应式行为
- 修改动画参数可调整交互效果

## 维护说明

### 1. 样式覆盖
使用 `!important` 确保样式优先级，避免被主题默认样式覆盖

### 2. 主题兼容
- 兼容安知鱼主题的浅色/深色模式
- 适配主题的侧边栏布局
- 保持与主题整体风格一致

### 3. 更新建议
- 定期检查API服务状态
- 监控组件在不同设备上的表现
- 根据用户反馈优化交互体验

## 故障排除

### 1. 样式不生效
- 检查CSS文件是否正确引入
- 确认选择器优先级是否足够
- 清除浏览器缓存

### 2. 响应式问题
- 检查媒体查询断点设置
- 确认设备像素比设置
- 测试不同屏幕尺寸

### 3. 动画卡顿
- 检查设备性能
- 优化动画参数
- 考虑减少动画复杂度

## 更新日志

### v2.0 (当前版本)
- 全新现代化设计
- 完整的响应式支持
- 深色模式适配
- 丰富的交互动画
- 优化的性能表现

### v1.0 (原版本)
- 基础诗词展示功能
- 简单的样式设计
- 基础响应式支持 